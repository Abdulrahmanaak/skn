/* =========================
   Sakinah – components.css
   Purpose: reusable UI components (cards, tabs, timeline, modal, testimonials, cta, footer).
========================= */

.card,
.card-elevated{ position:relative; background:var(--surface); padding: clamp(1.6rem,1.3rem + 1vw,2rem); border-radius:var(--r); border:1px solid color-mix(in srgb, var(--border) 70%, transparent); box-shadow: var(--sh-sm); display:grid; gap:1rem; overflow:hidden; isolation:isolate; transition: transform var(--transition), box-shadow var(--transition); }
.card:is(:hover,:focus-within),
.card-elevated:is(:hover,:focus-within){ transform: translateY(-6px); box-shadow: var(--sh-md); }

.cards-grid{ display:grid; gap: clamp(1.4rem, 2.6vw, 2.4rem); grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
figure.card-elevated{ margin:0; }

/* Tabs (Features) */
.features-grid{ display:grid; gap: clamp(1.5rem, 2.2vw, 2.75rem); }
.features-tablist{ display:flex; flex-wrap:wrap; justify-content:center; gap: clamp(.6rem,1.2vw,1rem); list-style:none; padding:0; margin:0; }
.feature-tab{ position:relative; display:inline-flex; align-items:center; gap:.55rem; padding: .65rem clamp(1rem, .8rem + 1vw, 1.5rem); border-radius: var(--r-pill); border:1px solid color-mix(in srgb, var(--border) 65%, transparent); background: var(--surface); color: var(--muted); font-weight:600; cursor:pointer; transition: transform var(--transition), box-shadow var(--transition), color var(--transition), background var(--transition), border-color var(--transition); box-shadow: none; }
.feature-tab[aria-selected="true"]{ background: color-mix(in srgb, var(--accent-soft) 45%, var(--surface)); color: var(--accent-strong); border-color: color-mix(in srgb, var(--accent) 30%, transparent); box-shadow: var(--sh-sm); }
.feature-panels{ position:relative; }
.feature-panel{ display:none; }
.feature-panel.is-active{ display:block; animation: feature-panel-in 360ms ease; }
@keyframes feature-panel-in{ from{ opacity:0; transform: translateY(14px);} to{ opacity:1; transform: translateY(0);} }

/* Counters */
.hero-counters{ display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:1.2rem; }
.counter-card{ padding:1.4rem 1.5rem; border-radius: var(--r-lg); background: var(--surface); border:1px solid color-mix(in srgb, var(--border) 65%, transparent); box-shadow: var(--sh-sm); position:relative; }
.counter-card .count{ font-size: clamp(2rem, 1.6rem + 1vw, 2.8rem); font-weight:700; color: var(--accent); margin:0; }

/* Timeline (Journey) – styles only; logic in timeline.js */
.timeline{ display:grid; gap: clamp(1rem, 3vw, 1.75rem); }
.timeline-progress{ inline-size:100%; block-size:4px; background: color-mix(in srgb, var(--border) 60%, transparent); border-radius: var(--r-pill); overflow:hidden; }
.timeline-progress-bar{ inline-size:0%; block-size:100%; background: var(--accent); transition: inline-size .4s ease; transform-origin: inline-start; }
.timeline-nav{ display:grid; gap:.75rem; }
.timeline-nav-buttons{ display:flex; flex-wrap:wrap; gap:.65rem; }
.timeline-track{ display:flex; gap:1rem; overflow:auto; scroll-snap-type:x mandatory; padding:.5rem; scrollbar-width:none; }
.timeline-track::-webkit-scrollbar{ display:none; }
.timeline-slide{ scroll-snap-align:center; min-inline-size:320px; flex:0 0 auto; }
.timeline-nav-button{ border:1px solid color-mix(in srgb, var(--border) 65%, transparent); background: var(--surface); color:var(--ink); border-radius: var(--r-pill); padding:.45rem 1rem; font-weight:600; cursor:pointer; transition: border-color var(--transition), background var(--transition), color var(--transition); box-shadow: none; }
.timeline-nav-button:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--accent) 28%, transparent); color: var(--accent-strong); }
.timeline-nav-button.is-active{ background: var(--accent); color:#fff; border-color: color-mix(in srgb, var(--accent) 45%, transparent); box-shadow: var(--sh-sm); }

/* Modal (Precheck) */
[data-precheck-modal]{ position:fixed; inset:0; background: color-mix(in srgb, var(--ink) 55%, transparent); display:none; align-items:center; justify-content:center; padding: clamp(1rem, 4vw, 2.5rem); z-index:1200; opacity:0; transition: opacity var(--transition); backdrop-filter: blur(8px); }
[data-precheck-modal][data-state="open"]{ display:flex; opacity:1; }
.precheck-dialog{ inline-size:min(540px,100%); display:grid; gap:1.25rem; padding: clamp(1.6rem, 1.4rem + 1vw, 2rem); border-radius: var(--r-lg); background: var(--surface); border:1px solid color-mix(in srgb, var(--border) 65%, transparent); box-shadow: var(--sh-lg); }
.modal-close{ position:absolute; inset-inline-start:1rem; inset-block-start:1rem; inline-size:34px; block-size:34px; border-radius:50%; border:1px solid color-mix(in srgb, var(--accent) 25%, transparent); background: var(--surface); display:grid; place-items:center; color: var(--accent-strong); }

/* Footer */
footer.site-footer{ background:#241e32; color:#f7f3ff; margin-block-start: clamp(4rem,6vw,6rem); }
.footer-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap: clamp(1.8rem, 3vw, 3.2rem); padding-block: clamp(50px, 8vw, 90px); }
.footer-meta{ border-block-start:1px solid rgba(255,255,255,.12); text-align:center; padding-block:1.5rem; font-size:.85rem; color: rgba(247,243,255,.7); }

/* === Semantic Buttons === */
.btn-success{ background: var(--success-500); color:#fff; border-color: color-mix(in srgb, var(--success-600) 45%, transparent); box-shadow:0 8px 18px color-mix(in srgb, var(--success-600) 18%, transparent); }
.btn-success:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--success-600) 60%, transparent); box-shadow:0 10px 22px color-mix(in srgb, var(--success-600) 24%, transparent); }

.btn-warning{ background: var(--warning-400); color:#2b2622; border-color: color-mix(in srgb, var(--warning-500) 45%, transparent); box-shadow:0 8px 18px color-mix(in srgb, var(--warning-500) 16%, transparent); }
.btn-warning:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--warning-600) 55%, transparent); box-shadow:0 10px 22px color-mix(in srgb, var(--warning-500) 22%, transparent); }

.btn-info{ background: var(--info-500); color:#fff; border-color: color-mix(in srgb, var(--info-600) 45%, transparent); box-shadow:0 8px 18px color-mix(in srgb, var(--info-600) 18%, transparent); }
.btn-info:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--info-600) 60%, transparent); box-shadow:0 10px 22px color-mix(in srgb, var(--info-600) 24%, transparent); }

.btn-danger{ background: var(--danger-500); color:#fff; border-color: color-mix(in srgb, var(--danger-600) 45%, transparent); box-shadow:0 8px 18px color-mix(in srgb, var(--danger-600) 18%, transparent); }
.btn-danger:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--danger-600) 60%, transparent); box-shadow:0 10px 22px color-mix(in srgb, var(--danger-600) 24%, transparent); }

/* Map outline/soft to brand by default */
.btn-outline{ background:transparent; color:var(--accent-strong); border-color: color-mix(in srgb, var(--accent) 30%, transparent); }
.btn-outline:is(:hover,:focus-visible){ background: color-mix(in srgb, var(--accent-soft) 35%, transparent); }
.btn-soft{ background: var(--surface); color: var(--accent-strong); border-color: color-mix(in srgb, var(--accent) 22%, transparent); box-shadow:0 6px 16px color-mix(in srgb, var(--accent) 10%, transparent); }
.btn-soft:is(:hover,:focus-visible){ border-color: color-mix(in srgb, var(--accent) 35%, transparent); box-shadow:0 8px 18px color-mix(in srgb, var(--accent) 14%, transparent); }

/* === Badges / Pills === */
.badge{ display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .8rem; border-radius: var(--r-pill); font-weight:600; font-size: var(--font-size-sm); border:1px solid transparent; }
.badge-success{ background: var(--success-50); color: var(--success-700); border-color: var(--success-200); }
.badge-warning{ background: var(--warning-50); color: var(--warning-700); border-color: var(--warning-200); }
.badge-info{    background: var(--info-50);    color: var(--info-700);    border-color: var(--info-200); }
.badge-danger{  background: var(--danger-50);  color: var(--danger-700);  border-color: var(--danger-200); }

/* === Alerts === */
.alert{ padding:1rem 1.25rem; border-radius: var(--r); border:1px solid; display:grid; gap:.35rem; }
.alert-success{ background: var(--success-50); border-color: var(--success-200); color: var(--success-800); }
.alert-warning{ background: var(--warning-50); border-color: var(--warning-200); color: var(--warning-800); }
.alert-info{    background: var(--info-50);    border-color: var(--info-200);    color: var(--info-800); }
.alert-danger{  background: var(--danger-50);  border-color: var(--danger-200);  color: var(--danger-800); }

/* === Tabs accent with brand tokens === */
.feature-tab[aria-selected="true"]{
  background: color-mix(in srgb, var(--accent-soft) 55%, var(--surface));
  color: var(--accent-strong);
  border-color: color-mix(in srgb, var(--accent) 35%, transparent);
}
.feature-tab:is(:hover,:focus-visible){ color: var(--accent-strong); border-color: color-mix(in srgb, var(--accent) 30%, transparent); box-shadow: var(--sh-sm); }

/* === Timeline active button === */
.timeline-nav-button.is-active{ background: var(--accent); color:#fff; border-color: color-mix(in srgb, var(--accent) 45%, transparent); }
.timeline-progress-bar{ background: var(--accent); }

/* === Interactive States Refinements === */
.btn{ transition: background var(--transition), color var(--transition), transform var(--transition), box-shadow var(--transition), border-color var(--transition); }
.btn:active{ transform: translateY(0); filter:saturate(1.05); }

/* Links inside cards */
.card a:not(.btn){ color: var(--accent-strong); border-bottom: 1px dashed color-mix(in srgb, var(--accent-strong) 35%, transparent); }
.card a:not(.btn):is(:hover,:focus-visible){ color: color-mix(in srgb, var(--accent-strong) 90%, #000); border-bottom-color: color-mix(in srgb, var(--accent-strong) 55%, transparent); }

/* Feature tabs subtle lift */
.feature-tab:is(:hover,:focus-visible){ transform: translateY(-2px); box-shadow: 0 8px 18px color-mix(in srgb, var(--accent) 18%, transparent); }

/* Cards in dark theme gain stronger outline */
:root[data-theme="dark"] .card,
:root[data-theme="dark"] .card-elevated{ border:1px solid color-mix(in srgb, var(--gray-200) 40%, transparent); background: linear-gradient(160deg, color-mix(in srgb, var(--paper) 92%, transparent), color-mix(in srgb, var(--paper) 80%, transparent)); }

.cta-card{ background: var(--surface); border-radius: var(--r-lg); border:1px solid color-mix(in srgb, var(--border) 65%, transparent); box-shadow: var(--sh-sm); padding: clamp(2rem, 4vw, 2.8rem); }

/* === Features — row layout with distinct background === */
#features{
  background: var(--surface);
  border:1px solid color-mix(in srgb, var(--border) 65%, transparent);
  padding-block: clamp(2rem, 6vw, 4rem);
  padding-inline: clamp(1.5rem, 4vw, 3rem);
  border-radius: 32px;
  box-shadow: var(--sh-sm);
}

#features .section-header{ margin-block-end: clamp(1rem, 3vw, 1.75rem); }

#features-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: clamp(1rem, 2.4vw, 1.8rem);
  align-items: start;
  justify-content: center;
}

@media (min-width: 900px){
  #features-grid{ grid-template-columns: repeat(4, 1fr); }
}
.form-actions{ display:flex; gap:.75rem; justify-content:flex-end; }

.plain-list{ list-style:none; padding:0; margin:0; display:grid; gap:.4rem; }
